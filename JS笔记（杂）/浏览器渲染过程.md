- 浏览器渲染过程：

  - 先将html和css渲染成dom数和cssdom树。
  - 然后在将两者合并，渲染树只包括节点页节点的样式信息，displaynone不会显示。如果遇到script标签，就停止渲染，之心js代码，因为浏览器gui渲染线程和js引擎线程互斥，所以js加载解析的时候回阻塞dom构建，所以要渲染快，将script标签放在body底部。
  - 因为js可能改变样式，所以会等cssom构建完再执行。所以本来dom和cssom的构建互不影响，如果引入js的话，就会先构建cssom，在执行js，最后在继续构建dom。
  - 当浏览器生成渲染树以后，会根据渲染树布局。这时候浏览器要弄清楚各个节点在页面中的确切位置和大小。布局完成后，会发出‘paint setup‘和’paint‘事件，将渲染树转换成像素。

- dom是渲染引擎里的，js是js引擎里的，所以用js去操作dom时，会产生跨界的性能开销问题，操作过多就会发生操作偏慢。

- 重绘：当我们对 DOM 的修改导致了样式的变化、却并未影响其几何属性（比如修改了颜色或背景色）时，浏览器不需重新计算元素的几何属性、直接为该元素绘制新的样式（跳过了上图所示的回流环节）。

  回流：当我们对 DOM 的修改引发了 DOM 几何尺寸的变化（比如修改元素的宽、高或隐藏元素等）时，浏览器需要重新计算元素的几何属性（其他元素的几何属性和位置也会因此受到影响），然后再将计算的结果绘制出来。这个过程就是回流（也叫重排）

  重绘不一定回流，回流必定重绘
